{% extends 'base.html.twig' %}

{% block body %}
    <div class="container home-container">
        <img class="logo" src="{{ asset('bundles/app/img/home/logo.png') }}" alt="Del Rodeo Logo">
        <div class="header clearfix">
            {% include 'Partials/publicNav.html.twig' %}
        </div>

        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                <li data-target="#carousel-example-generic" data-slide-to="1"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="{{ asset('bundles/app/img/home/slider1.jpg') }}" alt="Del Rodeo Slider Img">
                </div>
                <div class="item">
                    <img src="{{ asset('bundles/app/img/home/slider2.jpg') }}" alt="Del Rodeo Slider Img">
                </div>
            </div>
        </div>

        <div class="row marketing">
            <div class="title text-center">
                <span class="white-dot"></span>
                <span class="white-dot"></span>
                <span class="white-dot"></span>
                nuestros destacados
                <span class="white-dot"></span>
                <span class="white-dot"></span>
                <span class="white-dot"></span>
            </div>
        </div>

        <div class="row marketing">
            {% for featuredItem in featuredItems %}
                <div class="{% if loop.first %}col-lg-offset-1 {% endif %}col-lg-3 img-container">
                    <img class="combo" src="{{ asset('bundles/app/img/home/featured' ~ loop.index ~ '.jpg') }}" alt="{{ featuredItem.name|title }} ">
                    <img class="shopping-car" data-id="{{ featuredItem.id }}" data-title="{{ featuredItem.name|title }}" data-toggle="modal" data-target="#shoppingModal" src="{{ asset('bundles/app/img/home/shopping-car.png') }}" alt="Car">
                </div>
            {% endfor %}
        </div>

        <div id="menu" class="row marketing">
            <div class="title text-center">
                <span class="white-dot"></span>
                <span class="white-dot"></span>
                <span class="white-dot"></span>
                menú
                <span class="white-dot"></span>
                <span class="white-dot"></span>
                <span class="white-dot"></span>
            </div>
        </div>

        <div class="row marketing inherit-container">
            <div id="accordion" role="tablist" aria-multiselectable="true">
                {% for section in sections %}
                    {% if section.id|menuItem(true) > 0 %}
                        <div class="panel">
                            <div role="tab" id="{{ 'heading' ~ loop.index }}">
                                <h2>
                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#{{'collapse' ~ loop.index }}" aria-expanded="false" aria-controls="{{'collapse' ~ loop.index }}">
                                        <div class="title menu-title clearfix">
                                            <span>
                                                <h2>{{ section.name|lower }}</h2>
                                                <span class="white-dot"></span>
                                                <span class="white-dot"></span>
                                                <span class="white-dot"></span>
                                            </span>

                                            <img class="title-image" src="{{ asset('bundles/app/img/home/menu-title-' ~ section.id ~ '.png') }}" alt="{{ section.name|lower }}">
                                        </div>
                                    </a>
                                </h2>
                            </div>

                            <div id="{{'collapse' ~ loop.index }}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="{{ 'heading' ~ loop.index }}">
                                <div class="row marketing">
                                    <div class="row">
                                        {% for item in section.id|menuItem %}
                                            <div class="{% if loop.first or loop.index == 4 or loop.index == 7 or loop.index == 10 %}col-lg-offset-1 {% endif %}col-lg-3 img-container-shadow">
                                                <div class="item-name text-center">
                                                    <h3>{{ item.name|lower }}</h3>
                                                </div>
                                                <img class="combo" src="{{ asset('bundles/app/img/home/menu.png') }}" alt="{{item.name|lower}}">
                                                <div class="item-description-price text-center">
                                                    <p>{{ item.description|lower }}</p>
                                                    {% if item.unitaryPrice > 0 %}
                                                        {{ item.unitaryPrice|price }}
                                                    {% else %}
                                                        {{ item.comboPrice|price }}
                                                    {% endif %}
                                                </div>
                                                <img class="shopping-car" data-id="{{ item.id }}" data-title="{{ item.name|title }}" data-toggle="modal" data-target="#shoppingModal" src="{{ asset('bundles/app/img/home/shopping-car.png') }}" alt="Car">
                                            </div>
                                            {% if loop.index is divisible by(3) and not loop.last %}
                                                </div> {# /.row #}
                                                <div class="row">
                                            {% endif %}
                                        {% endfor %}
                                    </div> {# /.row #}
                                </div> {# /.row.marketing #}
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Shopping Modal -->
    <div class="modal fade shopping-modal" id="shoppingModal" tabindex="-1" role="dialog" aria-labelledby="shoppingModalLabel" data-url="{{ path('itemInfo') }}">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="shoppingModalLabel"></h4>
                </div>
                <div class="modal-body" id="shoppingModalBody">
                    <img src="{{ asset('bundles/app/img/home/menu.png') }}" alt="image">
                    <p id="shoppingModalDesc" class="item-description-price"></p>
                    <p>

                        <label for="numberItems">Cantidad</label>
                        <input type="number" id="numberItems" name="numberItems" value="1" min="1" max="20">
                        <h4>Acompañamientos</h4>
                        <ul>
                            {% for complement in complements %}
                                <li>
                                    <input id="checkbox-{{ complement.id }}" type="checkbox" name="checkbox-{{ complement.id }}" class="shopping-checkbox">
                                    <span>
                                        {{ complement.name|title }} - {{ complement.unitaryPrice|price }}
                                    </span>
                                </li>
                            {% endfor %}
                        </ul>
                    </p>
                    <p>
                        <h4>Bebidas</h4>
                        <ul>
                            {% for drink in drinks %}
                                <li>
                                    <input id="checkbox-{{ drink.id }}" type="checkbox" name="checkbox-{{ drink.id }}" class="shopping-checkbox">
                                    <span>
                                        {{ drink.name|title }} - {{ drink.unitaryPrice|price }}
                                    </span>
                                </li>
                            {% endfor %}
                        </ul>
                    </p>
                    <p>
                        <h4>Adiciones</h4>
                        <ul>
                            {% for addition in additions %}
                                <li>
                                    <input id="checkbox-{{ addition.id }}" type="checkbox" name="checkbox-{{ addition.id }}" class="shopping-checkbox">
                                    <span>
                                        {{ addition.name|title }} - {{ addition.unitaryPrice|price }}
                                    </span>
                                </li>
                            {% endfor %}
                        </ul>
                    </p>
                </div>
                <div class="modal-footer clearfix" id="shoppingModalFooter">
                    <span id="totalPrice" class="total-price pull-left"></span>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary">Agregar</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
